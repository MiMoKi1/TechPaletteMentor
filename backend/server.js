const a0_0x688f81=a0_0x2672;(function(_0x44e5ba,_0x18af30){const _0x5eaf62=a0_0x2672,_0x4f87c3=_0x44e5ba();while(!![]){try{const _0x7bc3f9=-parseInt(_0x5eaf62(0x11a))/0x1*(-parseInt(_0x5eaf62(0x121))/0x2)+parseInt(_0x5eaf62(0x117))/0x3*(-parseInt(_0x5eaf62(0x113))/0x4)+parseInt(_0x5eaf62(0x10e))/0x5*(parseInt(_0x5eaf62(0x10d))/0x6)+parseInt(_0x5eaf62(0x11e))/0x7+-parseInt(_0x5eaf62(0x112))/0x8+parseInt(_0x5eaf62(0x124))/0x9+parseInt(_0x5eaf62(0x10c))/0xa*(-parseInt(_0x5eaf62(0x120))/0xb);if(_0x7bc3f9===_0x18af30)break;else _0x4f87c3['push'](_0x4f87c3['shift']());}catch(_0x597e59){_0x4f87c3['push'](_0x4f87c3['shift']());}}}(a0_0x2331,0x3614d));function a0_0x2672(_0x509c14,_0x2cfcbe){const _0x233105=a0_0x2331();return a0_0x2672=function(_0x26727b,_0x4b671c){_0x26727b=_0x26727b-0x10b;let _0x5cb954=_0x233105[_0x26727b];return _0x5cb954;},a0_0x2672(_0x509c14,_0x2cfcbe);}const express=require(a0_0x688f81(0x11f)),bodyParser=require(a0_0x688f81(0x10f)),cors=require('cors'),stripe=require(a0_0x688f81(0x11c))(a0_0x688f81(0x118)),app=express(),PORT=process['env'][a0_0x688f81(0x10b)]||0xbb8;app['use'](cors()),app['use'](bodyParser[a0_0x688f81(0x116)]());const tokensStore={},generateToken=()=>{const _0x26462e=a0_0x688f81;return Math['random']()['toString'](0x24)[_0x26462e(0x122)](0x2);};function a0_0x2331(){const _0x3d27b2=['1284145SKvEdY','body-parser','body','create','52176rpKVHV','22816efyFeA','userId','usd','json','156LNFSiy','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','params','237UFViOw','Server\x20running\x20on\x20port\x20','stripe','log','711837YEGkMg','express','22iZfyrP','2878CIKIiN','substring','get','2232054OpRTqU','listen','PORT','2114610nIaLJc','6nFcdEM'];a0_0x2331=function(){return _0x3d27b2;};return a0_0x2331();}app['post']('/pay',async(_0x38a285,_0x393b27)=>{const _0xf6dda6=a0_0x688f81;try{const {amount:_0x312aa7,paymentMethodId:_0x4b75af,userId:_0x375df0}=_0x38a285[_0xf6dda6(0x110)],_0x52ea1d=await stripe['paymentIntents'][_0xf6dda6(0x111)]({'amount':_0x312aa7,'currency':_0xf6dda6(0x115),'payment_method':_0x4b75af,'confirm':!![]}),_0x28ba4e=generateToken();tokensStore[_0x375df0]=_0x28ba4e,_0x393b27[_0xf6dda6(0x116)]({'payment':_0x52ea1d,'token':_0x28ba4e});}catch(_0x240851){_0x393b27['status'](0x1f4)['send'](_0x240851);}}),app[a0_0x688f81(0x123)]('/check-token/:userId',(_0x2fc6b3,_0x502487)=>{const _0x2c2467=a0_0x688f81,_0xa14188=_0x2fc6b3[_0x2c2467(0x119)][_0x2c2467(0x114)],_0x589437=tokensStore[_0xa14188]!==undefined;_0x502487[_0x2c2467(0x116)]({'hasAccess':_0x589437});}),app[a0_0x688f81(0x125)](PORT,()=>{const _0x1427b4=a0_0x688f81;console[_0x1427b4(0x11d)](_0x1427b4(0x11b)+PORT);});
