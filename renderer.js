const a0_0x2a31ae=a0_0x1604;(function(_0x3268d1,_0x311669){const _0x2caf71=a0_0x1604,_0x2a6db8=_0x3268d1();while(!![]){try{const _0x4cbc11=-parseInt(_0x2caf71(0x132))/0x1+-parseInt(_0x2caf71(0xe7))/0x2+parseInt(_0x2caf71(0x106))/0x3*(-parseInt(_0x2caf71(0xc6))/0x4)+-parseInt(_0x2caf71(0x12b))/0x5*(-parseInt(_0x2caf71(0xb5))/0x6)+parseInt(_0x2caf71(0xfb))/0x7+parseInt(_0x2caf71(0xe3))/0x8*(parseInt(_0x2caf71(0x127))/0x9)+parseInt(_0x2caf71(0x10d))/0xa;if(_0x4cbc11===_0x311669)break;else _0x2a6db8['push'](_0x2a6db8['shift']());}catch(_0x14abd6){_0x2a6db8['push'](_0x2a6db8['shift']());}}}(a0_0x1e24,0xd8cb2));const canvas=document[a0_0x2a31ae(0x13f)](a0_0x2a31ae(0xdf)),context=canvas[a0_0x2a31ae(0x135)]('2d');let uploadedImage=null,imageAspectRatio=0x1,colorLibrary=[],paletteVisible=![],selectedPaints=[],gridVisible=![],gridColor=a0_0x2a31ae(0xc5),goldenRatioVisible=![];function debounce(_0x25dc49,_0x9969e8){let _0x205d1e;return function(..._0x129f69){const _0x3f9c7c=a0_0x1604;clearTimeout(_0x205d1e),_0x205d1e=setTimeout(()=>_0x25dc49[_0x3f9c7c(0xfd)](this,_0x129f69),_0x9969e8);};}function escapeHtml(_0x5066cd){const _0x540fab=a0_0x2a31ae;return _0x5066cd[_0x540fab(0x122)](/&/g,_0x540fab(0x13a))[_0x540fab(0x122)](/</g,_0x540fab(0xcd))[_0x540fab(0x122)](/>/g,_0x540fab(0x108))['replace'](/"/g,_0x540fab(0x12d))[_0x540fab(0x122)](/'/g,_0x540fab(0xc4));}function validateFileUpload(_0x415f94){const _0xe1070f=a0_0x2a31ae,_0x436c67=['image/png',_0xe1070f(0x104)],_0x24f956=0x14*0x400*0x400;if(!_0x415f94)return![];if(!_0x436c67[_0xe1070f(0x13c)](_0x415f94[_0xe1070f(0xd6)]))return![];if(_0x415f94[_0xe1070f(0xd8)]>_0x24f956)return![];return!![];}function a0_0x1e24(){const _0xec0871=['https://raw.githubusercontent.com/MiMoKi1/paint-colors/refs/heads/main/painting.json','input','dataset','type','backgroundColor','size','block','\x20|\x20Ratio:\x20','files','4px','toString','add','canvas','Grid','toggleGrid','display','2324008ujwoeq','You\x20need\x20to\x20wait\x20a\x20bit\x20before\x20fetching\x20again!','lineTo','reduce','1367184pyOTTf','left','observe','strokeStyle','getBoundingClientRect','addEventListener','className','palette','data','Hex\x20Value:\x20','gridSize','checkbox','appendChild','hex','border','name','textContent','User\x20clicked\x20on\x20pixel\x20at\x20(','clientX','palette-item','2213421WDhCAk','togglePalette','apply','sort','paint_name','flex','strokeRect','.palette-item\x20input[type=\x22checkbox\x22]','innerWidth','image/jpeg','innerHeight','293409sdRdav','3px','&gt;','crossOrigin','top','\x20|\x20','pigment_code','25795620poTtnM','slice','innerHTML','min','Please\x20upload\x20a\x20valid\x20PNG\x20or\x20JPG\x20image.','Anonymous','length','json','Failed\x20to\x20load\x20image.\x20Please\x20try\x20a\x20different\x20file.','Golden\x20Ratio','none','stroke','hexValue','Image\x20loaded:','drawImage','drawingAids','.palette-item','filter','style','src','colorDisplay','replace','imageUpload','</strong>\x20|\x20','checked','width','9ryustP','toBlob','createElement','querySelectorAll','1593085phLdOQ','forEach','&quot;','value','toFixed','change','log','1248684KiJYWa','gridColor','push','getContext','clearAll','goldenRatioButton','pow','results','&amp;','height','includes','blendCount','pigment','getElementById','6SQExcA','This\x20URL\x20is\x20not\x20trusted.','borderWidth','ratio','searchBox','clearRect','toLowerCase','paletteButtons','classList','onload','moveTo','),\x20Color:\x20','2px','lineWidth','2px\x20solid\x20black','&#039;','white','28bXRmKa','selectAll','createTextNode','target','remove','beginPath','div','&lt;','Grid\x20toggled','<strong>','clientY','click','createObjectURL'];a0_0x1e24=function(){return _0xec0871;};return a0_0x1e24();}let lastApiCallTime=0x0;function a0_0x1604(_0x57d1f9,_0x17607f){const _0x1e24d5=a0_0x1e24();return a0_0x1604=function(_0x160435,_0x26ec54){_0x160435=_0x160435-0xb5;let _0x470a51=_0x1e24d5[_0x160435];return _0x470a51;},a0_0x1604(_0x57d1f9,_0x17607f);}const RATE_LIMIT_TIME=0x1388;async function fetchColorLibrary(){const _0x5bbad7=a0_0x2a31ae,_0x76e23=new Date()['getTime']();if(_0x76e23-lastApiCallTime<RATE_LIMIT_TIME){alert(_0x5bbad7(0xe4));return;}lastApiCallTime=_0x76e23;const _0x461a59=['https://raw.githubusercontent.com/MiMoKi1/paint-colors/refs/heads/main/painting.json'],_0x36ecbc=_0x5bbad7(0xd3);if(!_0x461a59[_0x5bbad7(0x13c)](_0x36ecbc)){alert(_0x5bbad7(0xb6));return;}try{const _0x559d8b=await fetch(_0x5bbad7(0xd3));colorLibrary=await _0x559d8b[_0x5bbad7(0x114)](),renderPalette();}catch(_0x59f28d){console['error']('Error\x20fetching\x20color\x20library:',_0x59f28d);}}function resizeCanvas(){const _0x416f9a=a0_0x2a31ae;canvas[_0x416f9a(0x126)]=window[_0x416f9a(0x103)]*0.9,canvas[_0x416f9a(0x13b)]=window[_0x416f9a(0x105)]*0.85;if(uploadedImage){drawImage();if(gridVisible)drawGrid();if(goldenRatioVisible)overlayGoldenRatio();}}const resizeObserver=new ResizeObserver(()=>{resizeCanvas();});resizeObserver[a0_0x2a31ae(0xe9)](canvas),resizeCanvas();function drawImage(){const _0x178685=a0_0x2a31ae;context['clearRect'](0x0,0x0,canvas['width'],canvas[_0x178685(0x13b)]);let _0x1a6845=canvas[_0x178685(0x126)],_0x45c98c=canvas[_0x178685(0x126)]/ imageAspectRatio;_0x45c98c>canvas[_0x178685(0x13b)]&&(_0x45c98c=canvas[_0x178685(0x13b)],_0x1a6845=canvas[_0x178685(0x13b)]*imageAspectRatio);const _0x4f144d=(canvas[_0x178685(0x126)]-_0x1a6845)/0x2,_0xc2be4e=(canvas[_0x178685(0x13b)]-_0x45c98c)/0x2;context['drawImage'](uploadedImage,_0x4f144d,_0xc2be4e,_0x1a6845,_0x45c98c);}function compressImage(_0xfb4740,_0x4f7cde,_0xa3d68c,_0x31e629=0.7){const _0x3f1e58=a0_0x2a31ae,_0x5c886a=document[_0x3f1e58(0x129)](_0x3f1e58(0xdf)),_0x22c70c=_0x5c886a['getContext']('2d');let {width:_0x278714,height:_0x128038}=_0xfb4740;if(_0x278714>_0x4f7cde||_0x128038>_0xa3d68c){const _0x155e05=Math[_0x3f1e58(0x110)](_0x4f7cde/_0x278714,_0xa3d68c/_0x128038);_0x278714=_0x278714*_0x155e05,_0x128038=_0x128038*_0x155e05;}return _0x5c886a[_0x3f1e58(0x126)]=_0x278714,_0x5c886a[_0x3f1e58(0x13b)]=_0x128038,_0x22c70c[_0x3f1e58(0x11b)](_0xfb4740,0x0,0x0,_0x278714,_0x128038),new Promise(_0x43dd9f=>{const _0x3027b0=_0x3f1e58;_0x5c886a[_0x3027b0(0x128)](_0x32dd83=>{_0x43dd9f(_0x32dd83);},_0x3027b0(0x104),_0x31e629);});}document[a0_0x2a31ae(0x13f)](a0_0x2a31ae(0x123))[a0_0x2a31ae(0xec)]('change',_0x5314e0=>{const _0x19852e=a0_0x2a31ae,_0x861ece=_0x5314e0['target'][_0x19852e(0xdb)][0x0];if(!validateFileUpload(_0x861ece)){alert(_0x19852e(0x111));return;}const _0xfff1ab=new Image();_0xfff1ab[_0x19852e(0x109)]=_0x19852e(0x112),_0xfff1ab[_0x19852e(0xbe)]=async()=>{const _0x1deead=_0x19852e;console['log'](_0x1deead(0x11a),_0xfff1ab);const _0x2d8ea1=0x780,_0x51b0b9=0x438,_0x3b21b5=await compressImage(_0xfff1ab,_0x2d8ea1,_0x51b0b9),_0x27acb6=new Image();_0x27acb6[_0x1deead(0xbe)]=()=>{const _0x599139=_0x1deead;uploadedImage=_0x27acb6,imageAspectRatio=_0x27acb6[_0x599139(0x126)]/_0x27acb6[_0x599139(0x13b)],resizeCanvas();},_0x27acb6[_0x1deead(0x120)]=URL[_0x1deead(0xd2)](_0x3b21b5);},_0xfff1ab['onerror']=()=>{const _0x2c6ef7=_0x19852e;alert(_0x2c6ef7(0x115));},_0xfff1ab[_0x19852e(0x120)]=URL['createObjectURL'](_0x861ece);}),canvas[a0_0x2a31ae(0xec)]('click',_0x22c46b=>{const _0x42c3c6=a0_0x2a31ae;if(!uploadedImage)return;const _0x94cb6=canvas[_0x42c3c6(0xeb)](),_0x2059c4=_0x22c46b[_0x42c3c6(0xf9)]-_0x94cb6[_0x42c3c6(0xe8)],_0x5a4e8f=_0x22c46b[_0x42c3c6(0xd0)]-_0x94cb6[_0x42c3c6(0x10a)],_0x14e178=context['getImageData'](_0x2059c4,_0x5a4e8f,0x1,0x1)[_0x42c3c6(0xef)],_0x818e8b=rgbToHex(_0x14e178[0x0],_0x14e178[0x1],_0x14e178[0x2]);console['log'](_0x42c3c6(0xf8)+_0x2059c4+',\x20'+_0x5a4e8f+_0x42c3c6(0xc0)+_0x818e8b),document[_0x42c3c6(0x13f)](_0x42c3c6(0x119))[_0x42c3c6(0xf7)]=_0x42c3c6(0xf0)+_0x818e8b,document['getElementById'](_0x42c3c6(0x121))[_0x42c3c6(0x11f)][_0x42c3c6(0xd7)]=_0x818e8b;if(selectedPaints[_0x42c3c6(0x113)]===0x0){const _0x5ecf12=document[_0x42c3c6(0x13f)](_0x42c3c6(0x139));_0x5ecf12[_0x42c3c6(0x10f)]='';}else calculateBlend(_0x818e8b);});function rgbToHex(_0x136a09,_0x4bbb57,_0x45f3df){const _0x134f1c=a0_0x2a31ae;return'#'+((0x1<<0x18)+(_0x136a09<<0x10)+(_0x4bbb57<<0x8)+_0x45f3df)[_0x134f1c(0xdd)](0x10)[_0x134f1c(0x10e)](0x1)['toUpperCase']();}function calculateBlend(_0x3a22be){const _0x2011be=a0_0x2a31ae,_0x226e4c=document['getElementById'](_0x2011be(0x13d));let _0x37e125=parseInt(_0x226e4c[_0x2011be(0x12e)],0xa);if(isNaN(_0x37e125)||_0x37e125<0x1||_0x37e125>0xa){alert('Please\x20enter\x20a\x20valid\x20number\x20between\x201\x20and\x2010.'),_0x226e4c[_0x2011be(0x12e)]=0x3;return;}const _0x271650=[],_0x50d4bf=findClosestColors(_0x3a22be,selectedPaints,_0x37e125),_0x406242=_0x50d4bf[_0x2011be(0x113)],_0xc3d67a=_0x406242*(_0x406242+0x1)/0x2;_0x50d4bf[_0x2011be(0x12c)]((_0x4b00ef,_0x182a4e)=>{const _0x14719c=_0x2011be,_0x25ca4d=(_0x406242-_0x182a4e)/_0xc3d67a;_0x271650[_0x14719c(0x134)]({'name':_0x4b00ef[_0x14719c(0xff)],'hex':_0x4b00ef[_0x14719c(0xf4)],'pigment':_0x4b00ef[_0x14719c(0x10c)],'ratio':(_0x25ca4d*0x64)['toFixed'](0x2)});});const _0x33a0fa=_0x271650[_0x2011be(0xe6)]((_0x3042ab,_0x435059)=>_0x3042ab+parseFloat(_0x435059[_0x2011be(0xb8)]),0x0);_0x33a0fa!==0x64&&(_0x271650[0x0][_0x2011be(0xb8)]=(parseFloat(_0x271650[0x0][_0x2011be(0xb8)])+(0x64-_0x33a0fa))[_0x2011be(0x12f)](0x2)),displayBlends(_0x271650);}function findClosestColors(_0x50aedc,_0x2b8c53,_0x15cdde){const _0x20333d=a0_0x2a31ae;let _0x4a6974=[];return _0x2b8c53['forEach'](_0x4e0706=>{const _0x3af9ba=a0_0x1604,_0x16a322=getColorDistance(_0x50aedc,_0x4e0706[_0x3af9ba(0xf4)]);_0x4a6974[_0x3af9ba(0x134)]({..._0x4e0706,'distance':_0x16a322});}),_0x4a6974[_0x20333d(0xfe)]((_0x38aded,_0x1c9d06)=>_0x38aded['distance']-_0x1c9d06['distance']),_0x4a6974[_0x20333d(0x10e)](0x0,_0x15cdde);}function getColorDistance(_0xe03632,_0x1f3542){const _0xd8856a=a0_0x2a31ae,_0x35769e=hexToRgb(_0xe03632),_0x4e5d58=hexToRgb(_0x1f3542);return Math['sqrt'](Math[_0xd8856a(0x138)](_0x35769e['r']-_0x4e5d58['r'],0x2)+Math['pow'](_0x35769e['g']-_0x4e5d58['g'],0x2)+Math[_0xd8856a(0x138)](_0x35769e['b']-_0x4e5d58['b'],0x2));}function hexToRgb(_0x2220cf){const _0x227efb=a0_0x2a31ae,_0xdb0357=parseInt(_0x2220cf[_0x227efb(0x10e)](0x1),0x10);return{'r':_0xdb0357>>0x10&0xff,'g':_0xdb0357>>0x8&0xff,'b':_0xdb0357&0xff};}function displayBlends(_0x5e7946){const _0xf5edaa=a0_0x2a31ae,_0x146c4b=document['getElementById']('results');_0x146c4b[_0xf5edaa(0x10f)]='',_0x5e7946[_0xf5edaa(0x12c)](_0x15b281=>{const _0x3c2a6b=_0xf5edaa,_0x16a17e=document[_0x3c2a6b(0x129)](_0x3c2a6b(0xcc));_0x16a17e['className']='blend-item';const _0x35c6d4=document[_0x3c2a6b(0x129)](_0x3c2a6b(0xcc));_0x35c6d4[_0x3c2a6b(0xed)]='swatch',_0x35c6d4['style'][_0x3c2a6b(0xd7)]=_0x15b281['hex'],_0x16a17e[_0x3c2a6b(0x10f)]=_0x35c6d4['outerHTML']+_0x3c2a6b(0xcf)+escapeHtml(_0x15b281[_0x3c2a6b(0xf6)])+_0x3c2a6b(0x124)+escapeHtml(_0x15b281[_0x3c2a6b(0xf4)])+_0x3c2a6b(0x10b)+escapeHtml(_0x15b281[_0x3c2a6b(0x13e)])+_0x3c2a6b(0xda)+escapeHtml(_0x15b281[_0x3c2a6b(0xb8)])+'%',_0x146c4b['appendChild'](_0x16a17e);});}function renderPalette(){const _0x262bc7=a0_0x2a31ae,_0x2a1278=document['getElementById'](_0x262bc7(0xee));_0x2a1278['innerHTML']='',colorLibrary[_0x262bc7(0x12c)](_0x430056=>{const _0xbc8b6a=_0x262bc7,_0x292b0b=document[_0xbc8b6a(0x129)]('div');_0x292b0b[_0xbc8b6a(0xed)]=_0xbc8b6a(0xfa),_0x292b0b[_0xbc8b6a(0xd5)]['name']=_0x430056['paint_name'],_0x292b0b[_0xbc8b6a(0xd5)]['hex']=_0x430056[_0xbc8b6a(0xf4)],_0x292b0b[_0xbc8b6a(0xd5)][_0xbc8b6a(0x13e)]=_0x430056[_0xbc8b6a(0x10c)];const _0x31a1a8=document[_0xbc8b6a(0x129)](_0xbc8b6a(0xcc));_0x31a1a8[_0xbc8b6a(0xed)]='swatch',_0x31a1a8[_0xbc8b6a(0x11f)]['backgroundColor']=_0x430056[_0xbc8b6a(0xf4)],_0x31a1a8['style'][_0xbc8b6a(0xf5)]=_0xbc8b6a(0xc3);const _0x2c882a=document[_0xbc8b6a(0x129)](_0xbc8b6a(0xd4));_0x2c882a[_0xbc8b6a(0xd6)]=_0xbc8b6a(0xf2),_0x2c882a[_0xbc8b6a(0x12e)]=_0x430056[_0xbc8b6a(0xff)],selectedPaints['find'](_0x1bf300=>_0x1bf300['paint_name']===_0x430056[_0xbc8b6a(0xff)])&&(_0x2c882a[_0xbc8b6a(0x125)]=!![],_0x31a1a8[_0xbc8b6a(0x11f)][_0xbc8b6a(0xb7)]=_0xbc8b6a(0xdc)),_0x2c882a['addEventListener'](_0xbc8b6a(0x130),()=>{const _0x2226b5=_0xbc8b6a;_0x2c882a['checked']?(selectedPaints[_0x2226b5(0x134)](_0x430056),_0x31a1a8[_0x2226b5(0x11f)][_0x2226b5(0xb7)]=_0x2226b5(0xdc)):(selectedPaints=selectedPaints[_0x2226b5(0x11e)](_0xe3c01b=>_0xe3c01b[_0x2226b5(0xff)]!==_0x430056[_0x2226b5(0xff)]),_0x31a1a8['style'][_0x2226b5(0xb7)]='2px');}),_0x31a1a8[_0xbc8b6a(0xec)](_0xbc8b6a(0xd1),()=>{const _0x2f4b4c=_0xbc8b6a;_0x2c882a[_0x2f4b4c(0x125)]=!_0x2c882a[_0x2f4b4c(0x125)],_0x2c882a[_0x2f4b4c(0x125)]?(selectedPaints['push'](_0x430056),_0x31a1a8[_0x2f4b4c(0x11f)]['borderWidth']='4px'):(selectedPaints=selectedPaints['filter'](_0x5dc283=>_0x5dc283[_0x2f4b4c(0xff)]!==_0x430056['paint_name']),_0x31a1a8[_0x2f4b4c(0x11f)][_0x2f4b4c(0xb7)]='2px');}),_0x292b0b[_0xbc8b6a(0xf3)](_0x2c882a),_0x292b0b[_0xbc8b6a(0xf3)](_0x31a1a8),_0x292b0b[_0xbc8b6a(0xf3)](document[_0xbc8b6a(0xc8)](_0x430056[_0xbc8b6a(0xff)]+'\x20|\x20'+_0x430056[_0xbc8b6a(0xf4)]+'\x20|\x20'+_0x430056[_0xbc8b6a(0x10c)])),_0x2a1278[_0xbc8b6a(0xf3)](_0x292b0b);});}function sanitizeSearchInput(_0x46245d){const _0x3bf02a=a0_0x2a31ae;return _0x46245d[_0x3bf02a(0x122)](/[^a-zA-Z0-9#-]/g,'')['slice'](0x0,0x32);}function filterPalette(){const _0x2272f4=a0_0x2a31ae,_0x3e8624=document[_0x2272f4(0x13f)](_0x2272f4(0xb9));let _0x21fe67=sanitizeSearchInput(_0x3e8624['value'][_0x2272f4(0xbb)]()['replace'](/-/g,''));const _0x13555f=document[_0x2272f4(0x12a)](_0x2272f4(0x11d));_0x13555f[_0x2272f4(0x12c)](_0x4d3a2a=>{const _0x596503=_0x2272f4,_0x553224=_0x4d3a2a[_0x596503(0xd5)][_0x596503(0xf6)][_0x596503(0xbb)]()[_0x596503(0x122)](/-/g,''),_0x22c560=_0x4d3a2a[_0x596503(0xd5)]['hex'][_0x596503(0xbb)]()['replace'](/-/g,''),_0x2c631b=_0x4d3a2a[_0x596503(0xd5)][_0x596503(0x13e)][_0x596503(0xbb)]()[_0x596503(0x122)](/-/g,'');_0x553224[_0x596503(0x13c)](_0x21fe67)||_0x22c560['includes'](_0x21fe67)||_0x2c631b[_0x596503(0x13c)](_0x21fe67)?_0x4d3a2a[_0x596503(0x11f)]['display']=_0x596503(0x100):_0x4d3a2a[_0x596503(0x11f)][_0x596503(0xe2)]=_0x596503(0x117);});}document[a0_0x2a31ae(0x13f)]('searchBox')[a0_0x2a31ae(0xec)](a0_0x2a31ae(0xd4),filterPalette),document[a0_0x2a31ae(0x13f)](a0_0x2a31ae(0xfc))['addEventListener'](a0_0x2a31ae(0xd1),()=>{const _0x1da0bd=a0_0x2a31ae;paletteVisible=!paletteVisible;const _0x5036d0=document[_0x1da0bd(0x13f)]('palette'),_0x55a81f=document[_0x1da0bd(0x13f)](_0x1da0bd(0xbc));_0x5036d0['style']['display']=paletteVisible?_0x1da0bd(0xd9):_0x1da0bd(0x117),_0x55a81f[_0x1da0bd(0x11f)][_0x1da0bd(0xe2)]=paletteVisible?_0x1da0bd(0x100):_0x1da0bd(0x117);}),document[a0_0x2a31ae(0x13f)](a0_0x2a31ae(0xc7))[a0_0x2a31ae(0xec)](a0_0x2a31ae(0xd1),()=>{const _0x397227=a0_0x2a31ae,_0xa434e5=document['querySelectorAll'](_0x397227(0x102)),_0x1722ac=document[_0x397227(0x12a)]('.palette-item\x20.swatch');_0xa434e5[_0x397227(0x12c)]((_0x4661ab,_0x347b1e)=>{const _0xb1cb00=_0x397227;_0x4661ab[_0xb1cb00(0x125)]=!![],selectedPaints[_0xb1cb00(0x134)](colorLibrary['find'](_0x5f0b4c=>_0x5f0b4c[_0xb1cb00(0xff)]===_0x4661ab[_0xb1cb00(0x12e)])),_0x1722ac[_0x347b1e]['classList'][_0xb1cb00(0xde)]('selected-swatch'),_0x1722ac[_0x347b1e]['style'][_0xb1cb00(0xb7)]=_0xb1cb00(0x107);});}),document[a0_0x2a31ae(0x13f)](a0_0x2a31ae(0x136))[a0_0x2a31ae(0xec)](a0_0x2a31ae(0xd1),()=>{const _0x5ca0ae=a0_0x2a31ae,_0x116eba=document['querySelectorAll'](_0x5ca0ae(0x102)),_0x426b75=document[_0x5ca0ae(0x12a)]('.palette-item\x20.swatch');_0x116eba[_0x5ca0ae(0x12c)](_0x1f4b8c=>{const _0x58c4e9=_0x5ca0ae;_0x1f4b8c[_0x58c4e9(0x125)]=![];}),selectedPaints=[],_0x426b75['forEach'](_0x3398c0=>{const _0x5c4963=_0x5ca0ae;_0x3398c0[_0x5c4963(0xbd)][_0x5c4963(0xca)]('selected-swatch'),_0x3398c0['style'][_0x5c4963(0xb7)]=_0x5c4963(0xc1);});}),document[a0_0x2a31ae(0x13f)](a0_0x2a31ae(0xe1))['addEventListener'](a0_0x2a31ae(0xd1),()=>{const _0x941334=a0_0x2a31ae;gridVisible=!gridVisible,document[_0x941334(0x13f)](_0x941334(0xe1))[_0x941334(0xf7)]=gridVisible?_0x941334(0xe0):_0x941334(0xe0),gridVisible&&uploadedImage?drawGrid():resizeCanvas();});function drawGrid(){const _0x922580=a0_0x2a31ae;if(!uploadedImage||!gridVisible)return;drawImage(),context['strokeStyle']=gridColor,context[_0x922580(0xc2)]=0x2;let _0x25691f=canvas[_0x922580(0x126)],_0x2e206c=canvas['width']/ imageAspectRatio;_0x2e206c>canvas['height']&&(_0x2e206c=canvas[_0x922580(0x13b)],_0x25691f=canvas[_0x922580(0x13b)]*imageAspectRatio);const _0x35fe6a=(canvas[_0x922580(0x126)]-_0x25691f)/0x2,_0x23431f=(canvas['height']-_0x2e206c)/0x2,_0x12cbd3=parseInt(document[_0x922580(0x13f)]('gridSize')['value']),_0x534574=_0x25691f/_0x12cbd3,_0x27be87=_0x2e206c/_0x12cbd3;for(let _0x7d977=0x0;_0x7d977<=_0x12cbd3;_0x7d977++){const _0x5831e7=_0x35fe6a+_0x7d977*_0x534574;context['beginPath'](),context[_0x922580(0xbf)](_0x5831e7,_0x23431f),context['lineTo'](_0x5831e7,_0x23431f+_0x2e206c),context['stroke']();}for(let _0x59da02=0x0;_0x59da02<=_0x12cbd3;_0x59da02++){const _0x1e1816=_0x23431f+_0x59da02*_0x27be87;context[_0x922580(0xcb)](),context[_0x922580(0xbf)](_0x35fe6a,_0x1e1816),context[_0x922580(0xe5)](_0x35fe6a+_0x25691f,_0x1e1816),context[_0x922580(0x118)]();}}document['getElementById']('toggleDrawingAids')[a0_0x2a31ae(0xec)](a0_0x2a31ae(0xd1),function(){const _0x25489f=a0_0x2a31ae,_0x1dbea7=document['getElementById'](_0x25489f(0x11c));_0x1dbea7['style'][_0x25489f(0xe2)]==='none'?_0x1dbea7[_0x25489f(0x11f)][_0x25489f(0xe2)]=_0x25489f(0xd9):_0x1dbea7['style'][_0x25489f(0xe2)]=_0x25489f(0x117);}),document[a0_0x2a31ae(0x13f)](a0_0x2a31ae(0xe1))[a0_0x2a31ae(0xec)](a0_0x2a31ae(0xd1),function(){const _0x2a280c=a0_0x2a31ae;console[_0x2a280c(0x131)](_0x2a280c(0xce));}),document['getElementById'](a0_0x2a31ae(0x137))[a0_0x2a31ae(0xec)](a0_0x2a31ae(0xd1),()=>{const _0x1d40c6=a0_0x2a31ae;goldenRatioVisible=!goldenRatioVisible,document[_0x1d40c6(0x13f)]('goldenRatioButton')[_0x1d40c6(0xf7)]=goldenRatioVisible?_0x1d40c6(0x116):_0x1d40c6(0x116),goldenRatioVisible&&uploadedImage?overlayGoldenRatio():resizeCanvas();});function overlayGoldenRatio(){const _0x3f7e1c=a0_0x2a31ae;if(!uploadedImage)return;const _0x4a9340=1.618;let _0x5308e6=canvas[_0x3f7e1c(0x126)],_0x2be061=canvas[_0x3f7e1c(0x126)]/ imageAspectRatio;_0x2be061>canvas['height']&&(_0x2be061=canvas[_0x3f7e1c(0x13b)],_0x5308e6=canvas['height']*imageAspectRatio);const _0x3fab55=(canvas[_0x3f7e1c(0x126)]-_0x5308e6)/0x2,_0x19814c=(canvas[_0x3f7e1c(0x13b)]-_0x2be061)/0x2;context[_0x3f7e1c(0xba)](0x0,0x0,canvas[_0x3f7e1c(0x126)],canvas[_0x3f7e1c(0x13b)]),drawImage();const _0x597d81=document[_0x3f7e1c(0x13f)]('goldenRatioColor')[_0x3f7e1c(0x12e)]||'rgba(255,\x20215,\x200,\x200.7)';context[_0x3f7e1c(0xea)]=_0x597d81,context[_0x3f7e1c(0xc2)]=0x2;const _0x594b2f=_0x5308e6/_0x4a9340,_0x3c1edf=_0x2be061,_0x49c449=_0x3fab55,_0x548679=_0x5308e6,_0x41c4c3=_0x2be061/_0x4a9340,_0x59625f=_0x19814c;context['strokeRect'](_0x49c449,_0x19814c,_0x594b2f,_0x3c1edf),context[_0x3f7e1c(0x101)](_0x3fab55,_0x59625f,_0x548679,_0x41c4c3);}document[a0_0x2a31ae(0x13f)]('goldenRatioColor')[a0_0x2a31ae(0xec)](a0_0x2a31ae(0xd4),()=>{goldenRatioVisible&&uploadedImage&&overlayGoldenRatio();}),document['getElementById'](a0_0x2a31ae(0x133))[a0_0x2a31ae(0xec)](a0_0x2a31ae(0xd4),_0x41d48a=>{const _0x2b990c=a0_0x2a31ae;gridColor=_0x41d48a[_0x2b990c(0xc9)][_0x2b990c(0x12e)],gridVisible&&uploadedImage&&drawGrid();}),document[a0_0x2a31ae(0x13f)](a0_0x2a31ae(0xf1))[a0_0x2a31ae(0xec)](a0_0x2a31ae(0xd4),()=>{gridVisible&&uploadedImage&&drawGrid();}),fetchColorLibrary();